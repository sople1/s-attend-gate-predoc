# Event Management - Attendance App Implementation

## 출석 체크 기술 구현 사양

3단계 Fallback 시스템을 통한 출석 체크 기술 구현 세부사항을 정의합니다.

## 1. BLE 자동 감지 기술 사양

### 1.1 성능 지표
| 앱 상태 | 성공률 | 평균 처리 시간 | 비고 |
|---------|--------|----------------|------|
| 실행 상태 | 95-98% | 2-3초 | 최적 조건 |
| 백그라운드 | 80-85% | 5-7초 | OS 제약 존재 |
| 종료 상태 | - | - | QR코드 백업 필요 |

### 1.2 입/출장 판별 로직
#### 1순위: 시간 기반 판별
- 첫 감지 → **입장**
- 5분간 신호 없음 → **퇴장**

#### 2순위: RSSI 패턴 분석
- 신호 강도 증가 → 접근 (**입장**)
- 신호 강도 감소 → 멀어짐 (**퇴장**)

#### 3순위: GPS 보조 검증
- 위치 변화로 방향 판단

### 1.3 다층 검증 시스템
```
1차: BLE 비콘 감지 (근거리 확인)
2차: GPS 좌표 검증 (정확한 위치)  
3차: 지오펜스 경계 확인 (범위 검증)
4차: 시간 패턴 분석 (비정상 행동 감지)
```

### 1.4 예외 상황 처리
- **잠깐 외출**: 30분 이내 재입장 시 계속 참석 처리
- **중복 감지**: 단시간 내 재감지 무시
- **신호 간섭**: GPS 및 WiFi로 2차 검증

## 2. QR 코드 스캔 기술 사양

### 2.1 QR코드 형식
```json
{
  "event_id": "EVT-2024-001",
  "gate_id": "GATE-A1", 
  "timestamp": "2024-03-15T14:23:00Z",
  "location": {
    "lat": 37.5665,
    "lng": 126.9780
  },
  "signature": "...",
  "nonce": "..."
}
```

## 📌 참고
- [출석 체크 API](./api.md)
- [클라이언트 SDK](../README.md)
- [보안 정책](../auth/security.md)
