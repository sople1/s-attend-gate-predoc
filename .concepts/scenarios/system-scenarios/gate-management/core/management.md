# 게이트 관리 앱 시나리오 (단일 행사 전용)

## 🎯 개요

**특정 행사 1개에 특화된 게이트 현장 관리 앱**의 시나리오입니다.
행사별로 별도 앱을 구성하여 해당 행사의 출입 관리에만 집중합니다.

---

## 📱 앱 특징

```
앱 유형: 모바일 앱 (태블릿 최적화) + 전용 QR 스캐너
대상 사용자: 게이트 현장 관리자
배포 방식: 행사별 별도 앱 배포 (또는 설정)
데이터 구조: 단일 행사 전용

핵심 기능:
- 실시간 출석 처리
- 참가자 즉시 지원
- 오프라인 모드 지원
- 빠른 문제 해결
```

---

## 🏗️ 앱 구성 방식

### 방식 1: 행사별 별도 앱
```
각 행사마다 독립적인 앱 제작:

앱명 예시:
- "Spring Conference 2024 - Gate Manager"
- "Summer Festival 2024 - 게이트 관리"
- "Winter Workshop 2024 - 출입 관리"

장점:
- 행사에 특화된 UI/UX
- 불필요한 기능 제거로 단순화
- 행사별 브랜딩 적용 가능
- 보안 격리 완벽

단점:
- 앱 개발/배포 비용 증가
- 관리자 교육 부담
```

### 방식 2: 통합 앱 + 행사 설정
```
하나의 앱에서 행사별 설정 변경:

앱명: "S-Attend Gate Manager"

초기 설정:
┌─────────────────────────────────────┐
│ 🎯 행사 설정                       │
│                                     │
│ 관리할 행사를 선택하세요:           │
│                                     │
│ [📱 QR로 설정]                     │
│ [🔑 코드 입력: ______]             │
│                                     │
│ 또는 목록에서 선택:                 │
│ ○ Spring Conference 2024           │
│ ○ Summer Festival 2024             │
│ ○ Winter Workshop 2024             │
│                                     │
│ [설정 완료]                         │
└─────────────────────────────────────┘

장점:
- 앱 개발 비용 절약
- 관리자 교육 단순화
- 업데이트 관리 용이

단점:
- 복잡한 설정 관리
- 행사 간 데이터 격리 필요
```

---

## 🎫 행사 설정 및 초기화

### 1. 관리자 계정 생성 (행사 주최자)
```
행사 주최자의 관리자 설정:

1. 웹 관리 콘솔에서 게이트 관리자 등록
   ┌─────────────────────────────────────┐
   │ 👥 게이트 관리자 등록               │
   │                                     │
   │ 행사: Spring Conference 2024       │
   │ 게이트: A (메인 입구)               │
   │                                     │
   │ 관리자 정보:                        │
   │ 이름: [김관리]                     │
   │ 이메일: [gate.a@company.com]       │
   │ 연락처: [010-1111-2222]            │
   │                                     │
   │ 권한 설정:                          │
   │ ✅ 출석 처리 (수동 등록, QR 생성)   │
   │ ✅ 참가자 검색 및 조회              │
   │ ❌ 시스템 설정 변경                │
   │ ❌ 전체 데이터 조회                │
   │                                     │
   │ [등록 완료] [이메일 발송]           │
   └─────────────────────────────────────┘

2. 관리자에게 설정 정보 전송
   └ 앱 다운로드 링크 + 설정 QR/코드 이메일 발송

3. 자동 생성되는 설정 정보
   - 게이트 관리자 ID: gate_spring2024_a_001
   - 임시 비밀번호: auto_generated_pass
   - 행사 설정 코드: SPRING2024-GATE-A-abc123
```

### 2. 앱 초기 설정 (현장 관리자)
```
현장 관리자의 앱 설정 과정:

1. 앱 설치
   └ 이메일로 받은 링크에서 앱 다운로드

2. 행사 설정
   └ QR 코드 스캔 또는 설정 코드 입력
   └ "SPRING2024-GATE-A-abc123"

3. 초기 인증
   ┌─────────────────────────────────────┐
   │ 🔐 관리자 인증                     │
   │                                     │
   │ Spring Conference 2024             │
   │ 게이트 A (메인 입구) 관리자        │
   │                                     │
   │ ID: [gate_spring2024_a_001]        │
   │ 비밀번호: [임시 비밀번호]          │
   │                                     │
   │ [로그인] [비밀번호 변경]           │
   └─────────────────────────────────────┘

4. 행사 데이터 다운로드
   └ 참가자 명단, 게이트 정보, 설정값 자동 다운로드

5. 장비 연결 설정
   └ QR 스캐너 블루투스 페어링
   └ 네트워크 연결 확인
```

---

## 📊 메인 대시보드

### 1. 단일 행사 집중 화면
```
게이트 관리자 메인 화면:

┌─────────────────────────────────────┐
│ 🎫 Spring Conference 2024          │
│ 📍 게이트 A - 메인 입구             │
│                                     │
│ 📊 실시간 현황 (09:15 기준)         │
│ ┌─ 출석 현황 ─────────────────────┐ │
│ │ 출석 완료: 156명 / 200명 (78%)  │ │
│ │ 이번 시간: 23명 (지난 15분)     │ │
│ │ 평균 처리: 12초/명              │ │
│ └─────────────────────────────────┘ │
│                                     │
│ 🚨 대기 중인 도움 요청: 2건         │
│ ┌─ 김철수 ─────────────────────────┐ │
│ │ BLE 감지 실패 (3분 전)          │ │
│ │ [🎫 QR 생성] [✏️ 수동 등록]     │ │
│ └─────────────────────────────────┘ │
│ ┌─ 이영희 ─────────────────────────┐ │
│ │ 앱 미설치 (1분 전)              │ │
│ │ [🎫 QR 생성] [✏️ 수동 등록]     │ │
│ └─────────────────────────────────┘ │
│                                     │
│ 🔧 빠른 액션:                      │
│ [🔍 참가자 검색] [📱 QR 생성]       │
│ [✏️ 수동 등록] [📊 현황 보기]       │
│                                     │
│ 🔋 장비 상태: ✅ 정상               │
│ 📡 네트워크: ✅ 연결됨              │
└─────────────────────────────────────┘
```

### 2. 상황별 알림 시스템
```
알림 유형별 처리:

🟢 정상 상황:
- 자동 출석 성공 시 간단한 진동 피드백

🟡 주의 상황:
- 도움 요청 발생: 팝업 + 소리 알림
- 장비 배터리 부족: 상태바 경고 표시

🔴 긴급 상황:
- 서버 연결 끊김: 오프라인 모드 자동 전환
- QR 스캐너 오류: 백업 장비 사용 안내
- 다량 대기: 긴급 처리 모드 제안
```

---

## 👥 참가자 지원 프로세스

### 1. 도움 요청 처리
```
사용자 앱에서 도움 요청 시:

1. 자동 알림 수신
   ┌─────────────────────────────────────┐
   │ 🆘 새 도움 요청                    │
   │                                     │
   │ 참가자: 김철수                     │
   │ 문제: BLE 자동 감지 실패           │
   │ 대기 시간: 2분 30초                │
   │ 위치: 게이트 A 근처                │
   │                                     │
   │ [📱 QR 생성] [✏️ 수동 등록]        │
   │ [📞 참가자 호출] [❌ 무시]          │
   └─────────────────────────────────────┘

2. 빠른 처리 옵션
   - QR 생성: 5분 유효 임시 QR 생성
   - 수동 등록: 관리자가 직접 출석 처리
   - 참가자 호출: 게이트로 안내 요청
```

### 2. 현장 문제 해결
```
일반적인 현장 상황 처리:

상황 1: "앱이 안 되요"
└ 관리자: [QR 생성] → 참가자 스캔 → 즉시 처리

상황 2: "앱 설치 안 했어요"
└ 관리자: [수동 등록] → 신분증 확인 → 직접 처리

상황 3: "휴대폰 없어요"
└ 관리자: [수동 등록] → 신분증 확인 → 직접 처리

상황 4: "QR이 안 찍혀요"
└ 관리자: 새 QR 생성 또는 수동 등록 선택
```

---

## 📱 핵심 기능

### 1. 빠른 참가자 검색
```
검색 인터페이스:

┌─────────────────────────────────────┐
│ 🔍 참가자 검색                     │
│                                     │
│ [검색어 입력: 이름/연락처/회사]     │
│                                     │
│ 📋 최근 처리 참가자:               │
│ • 김철수 (2분 전 - QR 생성)        │
│ • 이영희 (5분 전 - 수동 등록)      │
│ • 박민수 (7분 전 - 자동 출석)      │
│                                     │
│ 🎯 빠른 검색:                      │
│ [📱 휴대폰 번호] [🏢 회사명]        │
│ [🎫 참가번호] [📧 이메일]           │
│                                     │
│ 💡 음성 검색: [🎤 말하기]           │
└─────────────────────────────────────┘

검색 결과:
┌─────────────────────────────────────┐
│ 👤 김철수                          │
│ 📧 kim@email.com                   │
│ 📞 010-1234-5678                   │
│ 🏢 A회사 개발팀                    │
│ 🎫 SPRING2024-001                  │
│                                     │
│ ✅ 출석 상태: 완료 (09:15)         │
│ 📍 출석 장소: 게이트 A             │
│ 🔄 출석 방법: 자동 감지            │
│                                     │
│ [📱 새 QR 생성] [✏️ 출석 수정]     │
│ [📞 연락하기] [📊 상세 보기]        │
└─────────────────────────────────────┘
```

### 2. QR 코드 생성 도구
```
임시 QR 생성:

1. 참가자 선택 또는 검색
2. QR 생성 옵션 선택
   ┌─────────────────────────────────────┐
   │ 📱 QR 코드 생성                    │
   │                                     │
   │ 대상: 김철수 (SPRING2024-001)      │
   │                                     │
   │ 유효 시간:                          │
   │ ○ 5분 (권장)                       │
   │ ○ 10분                             │
   │ ○ 30분                             │
   │                                     │
   │ 용도:                               │
   │ ○ 일회성 출석                      │
   │ ○ 재출석 (퇴장 후 재입장)          │
   │                                     │
   │ [QR 생성] [취소]                   │
   └─────────────────────────────────────┘

3. QR 코드 표시
   ┌─────────────────────────────────────┐
   │ 📱 임시 QR 코드                    │
   │                                     │
   │        ███ ███ ███ ███              │
   │        ███     ███     ███          │
   │        ███ ███ ███ ███ ███          │
   │        ███ ███     ███ ███          │
   │        ███ ███ ███ ███ ███          │
   │                                     │
   │ 👤 김철수 (SPRING2024-001)         │
   │ ⏰ 5분 후 만료 (14:35까지)          │
   │                                     │
   │ 참가자에게 스캔하도록 안내하세요    │
   │                                     │
   │ [새로 생성] [시간 연장] [완료]      │
   └─────────────────────────────────────┘
```

### 3. 수동 등록 처리
```
직접 출석 등록:

1. 참가자 신원 확인
   ┌─────────────────────────────────────┐
   │ ✏️ 수동 출석 등록                  │
   │                                     │
   │ 📋 참가자 정보 확인:               │
   │ 이름: [김철수]                     │
   │ 연락처: [010-1234-5678]            │
   │ 참가번호: [SPRING2024-001]         │
   │                                     │
   │ 🆔 신분증 확인 완료: ✅            │
   │                                     │
   │ 📝 등록 사유:                      │
   │ ○ 앱 미설치                        │
   │ ○ 휴대폰 없음                      │
   │ ○ BLE 감지 실패                    │
   │ ○ 기타: [직접 입력]                │
   │                                     │
   │ [출석 등록] [취소]                 │
   └─────────────────────────────────────┘

2. 등록 완료 확인
   ┌─────────────────────────────────────┐
   │ ✅ 출석 등록 완료                  │
   │                                     │
   │ 김철수님의 출석이 처리되었습니다.   │
   │                                     │
   │ 📅 등록 시간: 2024.07.15 09:30     │
   │ 📍 등록 장소: 게이트 A (메인 입구) │
   │ 👤 처리자: 김관리 (gate_a_001)     │
   │                                     │
   │ [다음 참가자] [현황 보기]           │
   └─────────────────────────────────────┘
```

---

## 🔧 오프라인 모드

### 1. 네트워크 단절 시 동작
```
오프라인 모드 자동 전환:

1. 네트워크 상태 감지
   └ 서버 연결 실패 시 자동으로 오프라인 모드 전환

2. 로컬 데이터 활용
   ┌─────────────────────────────────────┐
   │ 📡 오프라인 모드                   │
   │                                     │
   │ 서버 연결이 끊어졌습니다.           │
   │ 로컬 데이터로 계속 진행합니다.      │
   │                                     │
   │ 📊 현재 상태:                      │
   │ • 로컬 참가자 데이터: 200명         │
   │ • 처리 대기 중: 5건                │
   │ • 마지막 동기화: 09:25              │
   │                                     │
   │ ⚠️ 참가자 검색이 제한됩니다         │
   │                                     │
   │ [네트워크 확인] [수동 동기화]       │
   └─────────────────────────────────────┘

3. 오프라인에서 가능한 작업
   - 기존 참가자 출석 처리
   - 로컬 저장된 참가자 검색
   - QR 생성 (로컬 생성)
   - 수동 등록 (임시 저장)
```

### 2. 네트워크 복구 시 동기화
```
자동 동기화 프로세스:

1. 연결 복구 감지
   └ 서버 연결 확인 후 동기화 시작

2. 데이터 동기화
   ┌─────────────────────────────────────┐
   │ 🔄 데이터 동기화 중...              │
   │                                     │
   │ ████████████████░░░░ 78%           │
   │                                     │
   │ 처리 중인 작업:                     │
   │ • 출석 기록 업로드: 5건            │
   │ • 서버 데이터 업데이트: 진행 중     │
   │ • 설정 동기화: 완료                │
   │                                     │
   │ 예상 완료 시간: 30초               │
   └─────────────────────────────────────┘

3. 동기화 완료
   └ 충돌 데이터 해결 및 정상 모드 복귀
```

---

## 📊 성능 최적화

### 1. 빠른 처리를 위한 UI 설계
```
터치 최적화:
- 버튼 크기: 최소 44x44dp
- 자주 사용하는 기능 상단 배치
- 한 손 조작 가능한 레이아웃
- 스와이프 제스처 지원

처리 속도 최적화:
- QR 생성: 1초 이내
- 참가자 검색: 즉시 검색
- 수동 등록: 3단계 이내 완료
- 화면 전환: 부드러운 애니메이션
```

### 2. 배터리 최적화
```
장시간 사용 고려:

절전 기능:
- 화면 밝기 자동 조절
- 백그라운드 프로세스 최소화
- 필요 시에만 GPS 활성화
- 효율적인 BLE 스캔 주기

전력 관리:
- 배터리 상태 실시간 표시
- 20% 이하 시 경고 알림
- 절전 모드 자동 전환
- 충전 중 성능 모드 지원
```

---

## 🔗 외부 시스템 연동

### 1. 행사 관리 서비스와 연동
```
실시간 데이터 동기화:

1. 출석 현황 실시간 전송
   └ 게이트별 처리 현황을 행사 관리 서비스로 전송

2. 참가자 정보 업데이트 수신
   └ 늦은 등록자, 취소자 정보 실시간 수신

3. 긴급 공지 수신
   └ 행사 일정 변경, 긴급 안내사항 즉시 수신
```

### 2. 다른 게이트와 연동
```
게이트 간 정보 공유:

1. 중복 출석 방지
   └ 다른 게이트 출석 정보 실시간 확인

2. 부하 분산
   └ 게이트별 대기 현황 공유로 참가자 분산 유도

3. 긴급 상황 공유
   └ 시스템 장애, 보안 문제 등 즉시 공유
```
