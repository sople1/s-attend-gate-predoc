---
applyTo: '.concepts/**'
---
# 컨셉트 디렉토리 가이드라인

이 디렉토리는 s-attend-gate 프로젝트의 컨셉트 파일들을 포함합니다. 각 컨셉트 파일은 시스템의 구체적인 측면, 사용자 행동, 그리고 기술적 구현을 설명합니다.

**모든 시나리오 및 기술 문서는 `.concepts/base.md`를 기반으로 작성되어야 합니다.** 이 파일은 4개의 주요 구성요소를 가진 핵심 BLE 기반 출석 시스템을 정의합니다:
1. **User App** - 모바일 출석 체크 애플리케이션
2. **Event Management** - 이벤트 조직 및 조정 시스템  
3. **Gate Management** - 물리적 게이트 제어 및 비콘 관리
4. **Integrated Platform** - 통합 시스템 연동 및 분석

## 목적

컨셉트 디렉토리의 역할:
- **문서화 허브**: 모든 프로젝트 컨셉트와 시나리오의 중앙 저장소
- **관심사 분리**: 사용자 행동과 기술적 구현의 명확한 구분  
- **설계 참조**: 시스템 설계 및 사용자 경험 결정의 신뢰할 수 있는 출처
- **개발 가이드**: 프로젝트에 참여하는 개발자와 디자이너를 위한 참조 자료
- **내용 보존**: 모든 개념적 내용의 체계적 백업 및 버전 관리

## 파일 조직 원칙
- 시나리오 파일은 scenarios 디렉토리 아래에 위치함
- 모든 시나리오는 완결된 기능을 갖고 있는 독립적인 문서여야 하며, 구현이 가능해야 함
- 파일 내용은 읽기 쉽도록 작은 단위로 나누어 구성

### 사용자 시나리오 vs 시스템 시나리오
- **user-scenarios/**: 사용자 행동, 액션, 감정 반응에 집중 (기술적 세부사항, UI 목업, 대화 내용 금지)
- **system-scenarios/**: 기술적 구현, API, 성능 지표, 시스템 요구사항에 집중

### 내용 재구성 원칙
- **행동 전용 사용자 시나리오**: 기술적 구현 세부사항 없이 순수한 사용자 액션 패턴
- **기술 전용 시스템 시나리오**: 포괄적인 기술 사양, API / ABI 정의, 성능 기준
- **내용 기억**: 재구성 시 원본 파일을 메모리 기억, 참조 가능한 구조로 저장
- **혼재 내용 금지**: 명확한 분리로 사용자 행동과 기술적 구현 간의 혼란 방지
- **상호 참조**: 관련 개념 간의 링크를 통해 탐색 용이성 제공
- **README 파일**: 각 디렉토리에는 해당 디렉토리의 목적과 내용을 설명하는 README 파일 포함
- **시각적 다이어그램**: mermaid-diagrams.md 파일을 사용하여 시나리오의 시각적 표현 제공
- **중복 방지**: 동일한 개념을 새로운 파일로 생성하였는지 완결 전 확인
- **빈 파일 방지**: 시나리오 파일이 내용이 비어있는지, 작성 중간에 중단된 내용인지를 확인하고 온전한 파일로 완성할 것
- **미구현 방지**: 디렉토리만 생성하고 누락된 경우 이 전체 지침대로 채워넣을 것

### 내용 표준
- **원자적 초점**: 각 파일은 하나의 잘 정의된 개념을 다룸
- **명확한 목적**: 각 파일은 특정 사용자 행동 또는 기술적 구현을 설명
- **중복 방지**: 중복된 내용은 피하고, 관련 개념은 상호 참조로 연결
- **현실 적용 가능성**: 모든 개념은 구현 가능하고 실용적이어야 함
- **명확한 계층구조**: 탐색을 위한 일관된 제목 구조 사용
- **상호 참조**: 상대 경로를 사용한 관련 개념 링크

## 폴더 구조
```
.concepts/
├── base.md                    # 초기 컨셉트 파일
├── scenarios/                 # 사용자 및 시스템 시나리오를 포함하는 디렉토리
│   ├── README.md             # 시나리오와 목적의 개요
│   ├── common/               # 공통 패턴과 비즈니스 규칙
│   ├── extensions/           # 확장 플러그인용 디렉토리
│   │   ├── README.md
│   │   ├── treasure-hunt/    # BLE 비콘 기반 보물찾기 게임
│   │   │   ├── system-scenarios/  # 시스템 레벨 기술 시나리오 (확장용)
│   │   │   ├── user-scenarios/ # 사용자 레벨 행동 시나리오 (확장용)
│   │   │   ├── mermaid-diagrams.md   # 시나리오용 시각적 다이어그램
│   │   │   └── README.md
│   │   ├── networking-game/  # 참가자 상호작용을 위한 네트워킹 게임
│   │   │   ├── system-scenarios/  # 시스템 레벨 기술 시나리오 (확장용)
│   │   │   ├── user-scenarios/ # 사용자 레벨 행동 시나리오 (확장용)
│   │   │   ├── mermaid-diagrams.md   # 시나리오용 시각적 다이어그램
│   │   │   └── README.md
│   │   ├── analytics-dashboard/ # 고급 분석 및 인사이트
│   │   │   ├── system-scenarios/  # 시스템 레벨 기술 시나리오 (확장용)
│   │   │   ├── user-scenarios/ # 사용자 레벨 행동 시나리오 (확장용)
│   │   │   ├── mermaid-diagrams.md   # 시나리오용 시각적 다이어그램
│   │   │   └── README.md
│   │   └── integrations/     # 외부 시스템 연동 (CRM, 마케팅 도구)
│   │       ├── system-scenarios/  # 시스템 레벨 기술 시나리오 (확장용)
│   │       ├── user-scenarios/ # 사용자 레벨 행동 시나리오 (확장용)
│   │       ├── mermaid-diagrams.md   # 시나리오용 시각적 다이어그램
│   │       └── README.md
│   ├── mermaid-diagrams.md   # 시나리오용 시각적 다이어그램
│   ├── system-scenarios/     # 시스템 레벨 기술 시나리오
│   │   ├── README.md
│   │   ├── core-apis/        # API 사양 및 기술적 세부사항
│   │   ├── event-management/ # 이벤트 관리 시스템 기술 사양
│   │   ├── gate-management/  # 게이트 관리 시스템 기술 사양
│   │   ├── integrated-platform/ # 플랫폼 통합 기술 사양
│   │   └── user-app/         # 사용자 앱 기술적 구현 사양
│   └── user-scenarios/       # 사용자 레벨 행동 시나리오
│       ├── README.md
│       ├── common/             # 공통 사용자 시나리오
│       ├── event-management/         # 이벤트 관리 사용자 시나리오
│       ├── gate-management/          # 게이트 관리 사용자 시나리오  
│       ├── integrated-platform/     # 플랫폼 사용자 시나리오
│       └── user-app/                # 사용자 앱 행동 시나리오
└── storyboards/
    ├── README.md                 # 스토리보드 개요 및 가이드
    ├── user-flows/              # 사용자 흐름 스토리보드
    │   ├── onboarding/         # 최초 사용자 경험
    │   ├── core-features/      # 핵심 기능 사용
    │   └── edge-cases/         # 예외 상황 처리
    ├── system-flows/           # 시스템 흐름 스토리보드
    │   ├── data-processing/    # 데이터 처리 흐름
    │   ├── integrations/       # 시스템 통합 흐름
    │   └── error-handling/     # 오류 처리 흐름
    └── components/             # 재사용 가능한 구성요소
        ├── interactions/       # 상호작용 패턴
        ├── feedback/          # 피드백 패턴
        └── transitions/       # 전환 패턴
```

- 확장 플러그인 연결 방법에 대한 구현 정의 필요

## 예시

### 사용자 시나리오 예시
```markdown
# 자동 출석 성공 사용자 행동

사용자가 BLE 비콘을 통한 자동 출석 체크에 성공하는 행동 패턴입니다.

## 사용자 프로필
- Alex (25세, 개발자)
- 기술 친화적, 실험적 성향
- 앱 사용에 능숙함

## 행동 패턴
```
사용자 행동:
1. 행사장 주차장 도착 시 앱 상태 확인
2. 거리 정보 확인 후 입구로 이동
3. 진동 피드백 감지 시 즉시 앱 확인
4. 진행 상태 모니터링
5. 완료 확인 후 만족도 평가

감정 변화:
- 시작: 호기심, 테스트 욕구
- 진행: 놀라움, 관찰자적 흥미  
- 완료: 높은 만족도, 공유 욕구
```

### 시스템 구현 예시
```markdown
# BLE 비콘 자동 감지 시스템

BLE 비콘을 통한 자동 출석 감지의 기술적 구현 방안입니다.

## 기술 사양
- 감지 범위: 10-15m
- 응답 시간: 2-3초 이내
- 성공률: 95-98% (포그라운드 상태)
- 배터리 영향: 시간당 5% 이하

## API 스펙
```json
{
  "attendance_check": {
    "method": "POST",
    "endpoint": "/api/v1/attendance/auto",
    "payload": {
      "user_id": "string",
      "event_id": "string", 
      "beacon_data": {
        "uuid": "string",
        "major": "integer",
        "minor": "integer",
        "rssi": "integer"
      },
      "location": {
        "latitude": "number",
        "longitude": "number"
      }
    }
  }
}
```

### 상호 참조 예시
```markdown
## 관련 개념
- [수동 출석 시나리오](./manual-attendance-scenarios.md) - 자동 감지 실패 시 대체 방법
- [예외 상황 경험](../edge-cases-experience.md) - 예외 상황 사용자 대응
- [BLE 기술적 구현](../../system-scenarios/user-app/ble-beacon-system.md) - 기술적 구현 세부사항
```

# 내용 가이드라인

## 파일 명명 규칙
- 파일명에 kebab-case 사용 (예: `attendance-scenarios.md`)
- 내용 정리를 위해 긴 파일명보다 디렉토리 구조 우선
- 맥락을 위한 설명적 접미사 포함:
  - `-scenarios.md` 행동 시나리오(사용자) 또는 기술 시나리오(시스템)용
  - `-experience.md` 사용자 경험 플로우용
  - `-implementation.md` 기술적 구현용
  - `-api.md` API 사양용

## 스토리보드 작성 지침

### 스토리보드 파일 형식
- `-storyboard.md` 접미사 사용
- 최소 해상도 1920x1080 기준
- 프레임 크기와 비율 명시
- 접근성 고려사항 포함

### 스토리보드 필수 요소
1. 메타데이터
   ```markdown
   ---
   title: "기능명 스토리보드"
   flow-type: "user | system"
   screens: 5
   resolution: "1920x1080"
   created: "YYYY-MM-DD"
   updated: "YYYY-MM-DD"
   ---
   ```

2. 화면 구성
   ```markdown
   ## 화면 1: {화면명}
   
   ![화면1](./images/screen1.png)
   
   ### 설명
   화면의 목적과 주요 요소 설명
   
   ### 상호작용
   - 사용자 액션 1: 결과 설명
   - 사용자 액션 2: 결과 설명
   
   ### 접근성
   - 스크린리더 고려사항
   - 키보드 네비게이션
   - 색상 대비
   ```

### 상호작용 표현
- 순차적 흐름 표시
  ```mermaid
  sequenceDiagram
      User->>Screen1: 액션 수행
      Screen1->>Screen2: 전환
      Screen2-->>User: 피드백 제공
  ```

- 상태 변화 표시
  ```mermaid
  stateDiagram-v2
      [*] --> Idle
      Idle --> Processing: 사용자 입력
      Processing --> Success: 완료
      Processing --> Error: 실패
      Success --> [*]
      Error --> Idle: 재시도
  ```

### 품질 기준
- **완전성**: 모든 가능한 상태와 전환 포함
- **일관성**: 디자인 시스템과 일치
- **명확성**: 모호하지 않은 상호작용 설명
- **접근성**: 모든 사용자 고려
- **실현가능성**: 기술적 구현 가능성 검증

### 검토 포인트
1. 사용자 흐름
   - 논리적 진행
   - 명확한 피드백
   - 오류 복구 경로
   
2. 시스템 흐름
   - 데이터 처리 단계
   - 시스템 상태 표시
   - 오류 처리 방식
   
3. 상호작용
   - 터치/클릭 영역
   - 애니메이션/전환
   - 피드백 타이밍

4. 접근성
   - 스크린리더 호환성
   - 키보드 네비게이션
   - 고대비 모드 지원

### 유지보수 고려사항
- 버전 관리
- 변경 이력 문서화
- 관련 시나리오 연결
- 구현 팀 피드백 반영

## 문서 구조 요구사항

### 표준 형식
```markdown
# 제목
개념에 대한 간단한 한 문장 설명.

## 개요
개념과 목적에 대한 상세한 설명.

## 주요 구성요소
- 구성요소 1: 설명
- 구성요소 2: 설명

## 사용 예시
개념이 어떻게 적용되는지 보여주는 실용적 예시.

## 관련 개념
관련 파일과 개념에 대한 링크.
```

### 사용자 시나리오 형식
```markdown
# 시나리오 제목

## 시나리오 개요
순수한 사용자 행동 패턴에 집중한 간단한 설명 (기술적 세부사항 없음).

## 사용자 프로필
- 이름 (나이, 역할)
- 기술적 편안함 수준
- 관련 특성

## 행동 패턴

사용자 행동:
1. 관찰 가능한 행동 설명 (UI 요소 없음)
2. 다음 측정 가능한 행동
3. 결과 확인 행동

감정 변화:
- 시작: 초기 감정
- 진행: 과정 중 감정  
- 완료: 최종 감정 상태

## 성공 지표
측정 가능한 행동적 결과 (기술적 지표 아님).

## 제약사항
사용자 행동에 영향을 주는 외부 요인 (시간, 환경, 접근성 요구사항).

### 시스템 시나리오 형식
```markdown
# 시스템 구성요소 제목

## 기술적 개요
상세한 기술적 설명과 사양.

## 구현 세부사항
코드 예시, API/ABI 사양, 성능 지표.

## 구성
필요한 설정과 매개변수.

## 통합 지점
이 구성요소가 다른 것들과 어떻게 연결되는지.

## 모니터링 및 지표
성공 기준과 측정 방법.
```

## 품질 표준

### 파일 크기 관리
- **최적 크기**: 가독성과 유지보수성을 위해 파일을 500줄 미만으로 유지
- **최대 크기**: 파일은 800줄을 초과하지 않아야 함
- **분할 지표**: 파일이 600줄 이상에 접근하면 논리적 섹션으로 분할 고려
- **분할 전략**: 기능 영역, 시스템 구성요소, 또는 사용자 유형별로 분할
- **분할 후 명명**: 설명적 접미사 사용 (예: `core-scenarios.md` → `attendance-core.md`, `admin-core.md`)

### 분할 가이드라인
- **논리적 그룹화**: 관련 기능이나 사용자 유형별로 분할
- **내용 균형**: 분할 후 대략 동일한 파일 크기 목표  
- **상호 참조**: 분할 후 README 및 관련 파일 업데이트
- **분할 전 이력 생성**: 파일 재구성 전 이력 생성
- **이전 파일 제거**: 대용량 파일 재구성 후 이전 파일 유지하지 않음, 명확성 보장 및 혼란 방지, 완전한 마이그레이션 완료

### 내용 요구사항
- **명확성**: 간단하고 정확한 언어 사용
- **완전성**: 모든 필수 측면 다루기
- **일관성**: 확립된 패턴 따르기
- **현재성**: 정보를 최신 상태로 유지
- **테스트 가능성**: 검증 가능한 기준 포함

### 기술적 정확성
- **현실적 제약**: 실제 기술적 한계 반영
- **성능 목표**: 측정 가능한 벤치마크 포함
- **보안 고려사항**: 개인정보보호 및 보안 측면 다루기
- **확장성**: 성장과 확장 요구사항 고려

### 사용자 중심 설계
- **다양한 관점**: 다양한 사용자 유형과 능력 포함
- **접근성**: 다른 요구사항을 가진 사용자 고려
- **예외 상황**: 특이하거나 문제가 있는 시나리오 다루기
- **감정적 맥락**: 사용자 감정과 동기 포착

## 유지보수 프로세스

### 정기 검토
- **월간**: 구식 정보 확인
- **분기별**: 기술 사양 검증
- **릴리스별**: 구현 변경사항 기반 업데이트
- **사용자 피드백**: 실제 사용에서 얻은 인사이트 통합

### 내용 재구성 모범 사례
- **기억 전략**: 재구성 전 항상 모든 것 기억
- **내용 마이그레이션**: 사용자 행동 패턴을 보존하면서 기술적 세부사항을 system-scenarios로 추출
- **상호 참조 업데이트**: 내용 이동이나 분할 시 링크 업데이트
- **검증**: 재구성된 내용이 완전성과 정확성을 유지하는지 확인

### 버전 관리
- **원본 백업**: 재구성 시 이전 버전 보관
- **변경 추적**: 중요한 수정사항 문서화
- **승인 프로세스**: 관련 이해관계자와 변경사항 검토
- **아카이브 관리**: 참조용 히스토리 버전 유지
